{% extends 'base.html' %}

{% block content %}
&nbsp;
&nbsp;
&nbsp;
<br>
<div class="text-center">
  <h2>Welcome to your Dashboard, <strong>{{user}}</strong> </h2>
</div>
<hr style="border-top: 3px solid #000; margin: 30px 180px;">

<div class="text-center">
    <a href="{% url 'createrecord' %}" class="btn btn-primary" style="padding: 20px 80px 20px 80px;">
      Create New Record
      <i class="fa fa-plus-square" aria-hidden="true"></i>
    </a>
</div>

<hr style="border-top: 3px solid #000; margin: 30px 180px;">

{% include 'parts/alerts.html' %}

<div class="text-center">
  <form action="{% url 'search_record' %}" method="get" class="d-flex justify-content-center align-items-center">
    <input type="search" name="query" placeholder="Search by First Name or Last Name" class="form-control mr-sm-2" style="width: 40% !important; border: solid black">
    <button type="submit" class="btn btn-primary" style="padding: 15px; margin-left: 3px;">Search <i class="fa fa-search" aria-hidden="true"></i></button>
  </form>
</div>

<div class="text-center" style="padding: 20px 80px 20px 80px;">
    <table class="table table-striped table-dark">
      <thead>
        <tr>
          <th scope="col">#ID</th>
          <th scope="col">First-Name</th>
          <th scope="col">Last-Name</th>
          <th scope="col">Category</th>
          <th scope="col">Phone</th>
          <th scope="col">Hight</th>
          <th scope="col">Weight</th>
          <th scope="col">Address</th>
          <th scope="col">Creation Date</th>
          <th scope="col">View</th>
        </tr>
      </thead>
      <tbody>
        {% if records  %}
        {% for record in records %}
        <tr>
            <td>{{record.id}}</td>
            <td>{{record.f_name}}</td>
            <td>{{record.l_name}}</td>
            <td>{{record.category}}</td>
            <td>{{record.phone}}</td>
            <td>{{record.tall}}</td>
            <td>{{record.width}}</td>
            <td>{{record.addres}}</td>
            <td>{{record.created_at}}</td>
            <td><a href="{% url 'view_record' record.id %}" class="btn btn-outline-primary text-white btn-sm">view <i class="fa fa-eye" aria-hidden="true"></i></a></td>
        </tr>
        {% endfor %}
        {% else %}
        <tr>
            <td colspan="10" class="text-center fs-3">
              <div class="alert alert-info" role="alert">
                No records found.
              </div>
            </td>
        </tr>
        {% endif %}
      </tbody>
    </table>
</div>
{% endblock %}